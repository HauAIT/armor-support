"use strict";

require("source-map-support/register");
var _helpers = require("./helpers");
describe('logger with force log', function () {
  let writers, log;
  before(function () {
    writers = (0, _helpers.setupWriters)();
    log = (0, _helpers.getDynamicLogger)(true, true);
    log.level = 'silly';
  });
  after(function () {
    (0, _helpers.restoreWriters)(writers);
  });
  it('should not rewrite log levels even during testing', function () {
    log.silly('silly');
    (0, _helpers.assertOutputContains)(writers, 'silly');
    log.verbose('verbose');
    (0, _helpers.assertOutputContains)(writers, 'verbose');
    log.verbose('debug');
    (0, _helpers.assertOutputContains)(writers, 'debug');
    log.info('info');
    (0, _helpers.assertOutputContains)(writers, 'info');
    log.http('http');
    (0, _helpers.assertOutputContains)(writers, 'http');
    log.warn('warn');
    (0, _helpers.assertOutputContains)(writers, 'warn');
    log.error('error');
    (0, _helpers.assertOutputContains)(writers, 'error');
    (() => {
      log.errorAndThrow('msg');
    }).should.throw('msg');
    (0, _helpers.assertOutputContains)(writers, 'error');
    (0, _helpers.assertOutputContains)(writers, 'msg');
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9sb2dnZXIvbG9nZ2VyLWZvcmNlLXNwZWNzLmpzIiwibmFtZXMiOlsiX2hlbHBlcnMiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJ3cml0ZXJzIiwibG9nIiwiYmVmb3JlIiwic2V0dXBXcml0ZXJzIiwiZ2V0RHluYW1pY0xvZ2dlciIsImxldmVsIiwiYWZ0ZXIiLCJyZXN0b3JlV3JpdGVycyIsIml0Iiwic2lsbHkiLCJhc3NlcnRPdXRwdXRDb250YWlucyIsInZlcmJvc2UiLCJpbmZvIiwiaHR0cCIsIndhcm4iLCJlcnJvciIsImVycm9yQW5kVGhyb3ciLCJzaG91bGQiLCJ0aHJvdyJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4iLCJzb3VyY2VzIjpbInRlc3QvbG9nZ2VyL2xvZ2dlci1mb3JjZS1zcGVjcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc3BpbGU6bW9jaGFcblxuaW1wb3J0IHsgZ2V0RHluYW1pY0xvZ2dlciwgcmVzdG9yZVdyaXRlcnMsIHNldHVwV3JpdGVycyxcbiAgICAgICAgIGFzc2VydE91dHB1dENvbnRhaW5zIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuZGVzY3JpYmUoJ2xvZ2dlciB3aXRoIGZvcmNlIGxvZycsIGZ1bmN0aW9uICgpIHtcbiAgbGV0IHdyaXRlcnMsIGxvZztcbiAgYmVmb3JlKGZ1bmN0aW9uICgpIHtcbiAgICB3cml0ZXJzID0gc2V0dXBXcml0ZXJzKCk7XG4gICAgbG9nID0gZ2V0RHluYW1pY0xvZ2dlcih0cnVlLCB0cnVlKTtcbiAgICBsb2cubGV2ZWwgPSAnc2lsbHknO1xuICB9KTtcblxuICBhZnRlcihmdW5jdGlvbiAoKSB7XG4gICAgcmVzdG9yZVdyaXRlcnMod3JpdGVycyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IHJld3JpdGUgbG9nIGxldmVscyBldmVuIGR1cmluZyB0ZXN0aW5nJywgZnVuY3Rpb24gKCkge1xuICAgIGxvZy5zaWxseSgnc2lsbHknKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnc2lsbHknKTtcbiAgICBsb2cudmVyYm9zZSgndmVyYm9zZScpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICd2ZXJib3NlJyk7XG4gICAgbG9nLnZlcmJvc2UoJ2RlYnVnJyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ2RlYnVnJyk7XG4gICAgbG9nLmluZm8oJ2luZm8nKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnaW5mbycpO1xuICAgIGxvZy5odHRwKCdodHRwJyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ2h0dHAnKTtcbiAgICBsb2cud2Fybignd2FybicpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICd3YXJuJyk7XG4gICAgbG9nLmVycm9yKCdlcnJvcicpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICdlcnJvcicpO1xuICAgICgoKSA9PiB7IGxvZy5lcnJvckFuZFRocm93KCdtc2cnKTsgfSkuc2hvdWxkLnRocm93KCdtc2cnKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnZXJyb3InKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnbXNnJyk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7OztBQUVBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUdBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsWUFBWTtFQUM1QyxJQUFJQyxPQUFPLEVBQUVDLEdBQUc7RUFDaEJDLE1BQU0sQ0FBQyxZQUFZO0lBQ2pCRixPQUFPLEdBQUcsSUFBQUcscUJBQVksRUFBQyxDQUFDO0lBQ3hCRixHQUFHLEdBQUcsSUFBQUcseUJBQWdCLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztJQUNsQ0gsR0FBRyxDQUFDSSxLQUFLLEdBQUcsT0FBTztFQUNyQixDQUFDLENBQUM7RUFFRkMsS0FBSyxDQUFDLFlBQVk7SUFDaEIsSUFBQUMsdUJBQWMsRUFBQ1AsT0FBTyxDQUFDO0VBQ3pCLENBQUMsQ0FBQztFQUVGUSxFQUFFLENBQUMsbURBQW1ELEVBQUUsWUFBWTtJQUNsRVAsR0FBRyxDQUFDUSxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ2xCLElBQUFDLDZCQUFvQixFQUFDVixPQUFPLEVBQUUsT0FBTyxDQUFDO0lBQ3RDQyxHQUFHLENBQUNVLE9BQU8sQ0FBQyxTQUFTLENBQUM7SUFDdEIsSUFBQUQsNkJBQW9CLEVBQUNWLE9BQU8sRUFBRSxTQUFTLENBQUM7SUFDeENDLEdBQUcsQ0FBQ1UsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUNwQixJQUFBRCw2QkFBb0IsRUFBQ1YsT0FBTyxFQUFFLE9BQU8sQ0FBQztJQUN0Q0MsR0FBRyxDQUFDVyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ2hCLElBQUFGLDZCQUFvQixFQUFDVixPQUFPLEVBQUUsTUFBTSxDQUFDO0lBQ3JDQyxHQUFHLENBQUNZLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDaEIsSUFBQUgsNkJBQW9CLEVBQUNWLE9BQU8sRUFBRSxNQUFNLENBQUM7SUFDckNDLEdBQUcsQ0FBQ2EsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNoQixJQUFBSiw2QkFBb0IsRUFBQ1YsT0FBTyxFQUFFLE1BQU0sQ0FBQztJQUNyQ0MsR0FBRyxDQUFDYyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ2xCLElBQUFMLDZCQUFvQixFQUFDVixPQUFPLEVBQUUsT0FBTyxDQUFDO0lBQ3RDLENBQUMsTUFBTTtNQUFFQyxHQUFHLENBQUNlLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFBRSxDQUFDLEVBQUVDLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQztJQUN6RCxJQUFBUiw2QkFBb0IsRUFBQ1YsT0FBTyxFQUFFLE9BQU8sQ0FBQztJQUN0QyxJQUFBVSw2QkFBb0IsRUFBQ1YsT0FBTyxFQUFFLEtBQUssQ0FBQztFQUN0QyxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMifQ==
